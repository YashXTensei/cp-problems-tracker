{% extends "layout.html" %}

{% block title %} Problem Tracker {% endblock %}
{% block content %}
<h2>ğŸ“Š Problem Tracker</h2>
<p style="color: #555;">Track your competitive programming journey.</p>

<h3> My problems : </h3>

<a href="{{url_for('main.add_ques')}}" class="add-btn"> Add Ques â• </a>
<br>
{% if content %}
    {% for c in content %}
    <div class="Content {% if c.is_completed %}done{%endif%}">
        <h3>{{c.id}} : {{c.platform}} </h3>
        <p>Rating/Difficulty : <strong>{{c.rating}}</strong></p>
        <p>Question number : <strong>{{c.ques_no}}</strong></p>

        <div class="action-container">
            <div class="left-btns">
                <a href="{{url_for('main.edit_ques' , id = c.id)}}" class="edit-btn" > Edit âœï¸</a>
                <form method="POST" action="{{ url_for('main.delete', id=c.id) }}" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this question?');">
                    <button type="submit" class="delete-btn">Delete âŒ</button>
                </form>
            </div>

            <div class="right-btns">
                <form method="POST" style="display:inline;" action="{{url_for('main.completed' , id = c.id)}}">
                    <button type="submit" class="icon-btn" title="Mark Completed"> 
                        {% if c.is_completed %} ğŸŸ¢ {% else %} ğŸ”´ {% endif %}
                    </button>
                </form>

                <form method="POST" action="{{url_for('main.favorite' , id = c.id )}}" style="display:inline;">
                    <button type="submit" class="icon-btn" title="Mark Favorite">
                        {% if c.is_fav %} ğŸ’ {% else %} ğŸ©¶ {% endif %}
                    </button>
                </form>
            </div>
        </div>
    </div>
    {% endfor %}
{% else %}
<p> No problems registered yet ğŸ¥² </p>
{% endif %}

{% endblock %}